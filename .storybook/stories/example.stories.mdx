import { useState } from "react";
import { BrowserRouter as Router } from "react-router-dom";
import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs/blocks";
import { AppLayout } from "../../src/components/layout/AppLayout";
import { AppNav } from "../../src/components/layout/AppNav";
import { AppBar } from "../../src/components/layout/AppBar";
import { AppContent } from "../../src/components/layout/AppContent";
import { Page } from "../../src/components/page/Page";
import { PageActions, Action } from "../../src/components/page/PageActions";
import { PageCrumbs, Crumb } from "../../src/components/page/PageCrumbs";
import { PageHeader } from "../../src/components/page/PageHeader";
import { Card } from "../../src/components/card/Card";
import { CardTitle } from "../../src/components/card/CardTitle";
import { CardContent } from "../../src/components/card/CardContent";
import { UserMenu } from "../../src/components/user/UserMenu";
import { Form } from "../../src/components/form/Form";
import { FormItem } from "../../src/components/form/FormItem";
import { Input } from "../../src/components/form/Input";
import { Textarea } from "../../src/components/form/Textarea";
import { Checkbox } from "../../src/components/form/Checkbox";
import { Button } from "../../src/components/button/Button";
import { Select, Option } from "../../src/components/form/Select";
import { Badge } from "../../src/components/notify/Badge";
import { Menu, MenuItem } from "../../src/components/navigation/Menu";
import { Icon } from "../../src/components/graphic/Icon";
import { Splash, SplashTitle, SplashContent } from "../../src/components/layout/Splash";
import { Text } from "../../src/components/typography/Text";
import { Logo } from "../../src/components/graphic/Logo";
import { Row } from "../../src/components/grid/Row";
import { Col } from "../../src/components/grid/Col";
import { Popup, PopupTitle, PopupContent, PopupFooter } from "../../src/components/notify/Popup";
import { ComponentWrapper } from "../../src/components/layout/ComponentWrapper";

import { user } from "../constants";

<Meta title="Docs/Example" />

# Example

This is an example of how a layout component structure can look like.

<Canvas>
    <Story name="basic">
        {() => {
            const [activeMenuItem, setActiveMenuItem] = useState(1);
            const [showCreatePagePrompt, setShowCreatePagePrompt] = useState(false);
            const [data, setData] = useState({});
            const [searchTerm, setSearchTerm] = useState(null);
            return (
                <ComponentWrapper>
                    <AppLayout>
                        <AppBar title="Spesialer">
                            <AppBar.Item placeLeft>
                                <Input
                                    value={searchTerm}
                                    size="small"
                                    icon="search"
                                    onChange={setSearchTerm}
                                    placeholder="Search"
                                />
                            </AppBar.Item>
                            <AppBar.Item placeRight>
                                <UserMenu name={user.name} email={user.email}>
                                    <Menu>
                                        <MenuItem
                                            selected={activeMenuItem === 1}
                                            onClick={() => setActiveMenuItem(1)}
                                            icon="gear"
                                            label="First item"
                                            count={8}
                                        />
                                        <MenuItem
                                            selected={activeMenuItem === 2}
                                            onClick={() => setActiveMenuItem(2)}
                                            icon="eye"
                                            label="Second item"
                                            indicator={<Icon name="warning" color="info" />}
                                            count={23}
                                        />
                                        <MenuItem
                                            selected={activeMenuItem === 3}
                                            onClick={() => setActiveMenuItem(3)}
                                            icon="nodes"
                                            label="Third item"
                                            count={376}
                                        />
                                        <MenuItem
                                            selected={activeMenuItem === 4}
                                            onClick={() => setActiveMenuItem(4)}
                                            icon="palette"
                                            label="Fourth item"
                                            count={1}
                                        />
                                        <MenuItem
                                            selected={activeMenuItem === 5}
                                            onClick={() => setActiveMenuItem(5)}
                                            icon="user"
                                            label="Fifth item"
                                            count={6}
                                        />
                                    </Menu>
                                </UserMenu>
                            </AppBar.Item>
                        </AppBar>
                        <AppNav
                            logo={<Logo width={100} />}
                            title={
                                <React.Fragment>
                                    <Text block size="large" weight="medium">
                                        Example page
                                    </Text>
                                </React.Fragment>
                            }
                        >
                            <AppNav.Menu>
                                <AppNav.MenuHeading>Main</AppNav.MenuHeading>
                                <AppNav.MenuItem icon="user">Profile</AppNav.MenuItem>
                                <AppNav.MenuItem icon="gear" link="/">
                                    Settings
                                </AppNav.MenuItem>
                                <AppNav.MenuItem icon="rocket">Account</AppNav.MenuItem>
                            </AppNav.Menu>
                            <AppNav.Menu>
                                <AppNav.MenuHeading>Styles</AppNav.MenuHeading>
                                <AppNav.MenuItem icon="devices">Components</AppNav.MenuItem>
                                <AppNav.MenuItem icon="feather">Buttons</AppNav.MenuItem>
                                <AppNav.MenuItem
                                    icon="image"
                                    indicator={
                                        <Badge number fill color="error">
                                            34
                                        </Badge>
                                    }
                                >
                                    Icons
                                </AppNav.MenuItem>
                                <AppNav.MenuItem icon="lock">Forms</AppNav.MenuItem>
                                <AppNav.MenuItem icon="palette">Popups</AppNav.MenuItem>
                                <AppNav.MenuItem icon="puzzle">Pages</AppNav.MenuItem>
                            </AppNav.Menu>
                        </AppNav>
                        <AppContent>
                            <Page>
                                <PageHeader
                                    icon="gear"
                                    title="Example layout"
                                    subtitle="Getting started"
                                />
                                <PageCrumbs>
                                    <Crumb label="Start" link="/" />
                                    <Crumb label="Company" link="/companies" />
                                    <Crumb label="Layouts" link="/companies/articles" />
                                    <Crumb current />
                                </PageCrumbs>
                                <PageActions>
                                    <Action
                                        icon="plus"
                                        onClick={() => setShowCreatePagePrompt(true)}
                                    >
                                        Create a page
                                    </Action>
                                    <Action icon="edit" onClick={() => console.log("CLICK")}>
                                        Edit page
                                    </Action>
                                    <Action
                                        icon="trash"
                                        iconColor="error"
                                        onClick={() => console.log("CLICK")}
                                    >
                                        Delete page
                                    </Action>
                                </PageActions>
                                <Row>
                                    <Col lg={18}>
                                        <Row>
                                            <Col span={24}>
                                                <Card>
                                                    <CardTitle title="This is the card title">
                                                        <Badge color="success" fill>
                                                            Success
                                                        </Badge>
                                                    </CardTitle>
                                                    <CardContent>
                                                        There are many variations of passages of
                                                        Lorem Ipsum available, but the majority have
                                                        suffered alteration in some form, by
                                                        injected humour, or randomised words which
                                                        don't look even slightly believable. If you
                                                        are going to use a passage of Lorem Ipsum,
                                                        you need to be sure there isn't anything
                                                        embarrassing hidden in the middle of text.
                                                        All the Lorem Ipsum generators on the
                                                        Internet tend to repeat predefined chunks as
                                                        necessary, making this the first true
                                                        generator on the Internet. It uses a
                                                        dictionary of over 200 Latin words, combined
                                                        with a handful of model sentence structures,
                                                        to generate Lorem Ipsum which looks
                                                        reasonable. The generated Lorem Ipsum is
                                                        therefore always free from repetition,
                                                        injected humour, or non-characteristic words
                                                        etc.
                                                    </CardContent>
                                                </Card>
                                            </Col>
                                            <Col span={24}>
                                                <Card>
                                                    <CardTitle
                                                        title="This is some form"
                                                        actions={[
                                                            {
                                                                icon: "edit",
                                                                onClick: () => console.log("CLICK")
                                                            },
                                                            {
                                                                icon: "gear",
                                                                onClick: () => console.log("CLICK")
                                                            }
                                                        ]}
                                                    />
                                                    <CardContent>
                                                        <Form
                                                            responsive
                                                            onSubmit={() => console.log("SUBMIT")}
                                                        >
                                                            <FormItem label="Your name">
                                                                <Input
                                                                    value={data.name}
                                                                    onChange={(e) =>
                                                                        setData({
                                                                            ...data,
                                                                            name: e.target.value
                                                                        })
                                                                    }
                                                                    placeholder="Write here..."
                                                                />
                                                            </FormItem>
                                                            <FormItem label="Your comment">
                                                                <Textarea
                                                                    value={data.comment}
                                                                    onChange={(e) =>
                                                                        setData({
                                                                            ...data,
                                                                            comment: e.target.value
                                                                        })
                                                                    }
                                                                    placeholder="Write here..."
                                                                />
                                                            </FormItem>
                                                            <FormItem>
                                                                <Checkbox
                                                                    checked={data.checked}
                                                                    onChange={(val) =>
                                                                        setData({
                                                                            ...data,
                                                                            checked: val
                                                                        })
                                                                    }
                                                                >
                                                                    Send to everyone
                                                                </Checkbox>
                                                            </FormItem>
                                                            <FormItem>
                                                                <Button
                                                                    type="submit"
                                                                    color="primary"
                                                                >
                                                                    Submit comment
                                                                </Button>
                                                            </FormItem>
                                                        </Form>
                                                    </CardContent>
                                                </Card>
                                            </Col>
                                        </Row>
                                    </Col>
                                    <Col lg={6}>
                                        <Row>
                                            <Col sm={12} lg={24}>
                                                <Card>
                                                    <CardTitle title="Small card" />
                                                    <CardContent>
                                                        All the Lorem Ipsum generators on the
                                                        Internet tend to repeat predefined chunks as
                                                        necessary, making this the first true
                                                        generator on the Internet.
                                                    </CardContent>
                                                </Card>
                                            </Col>
                                            <Col sm={12} lg={24}>
                                                <Card>
                                                    <CardTitle title="Another card" />
                                                    <CardContent>
                                                        All the Lorem Ipsum generators on the
                                                        Internet tend to repeat predefined chunks as
                                                        necessary, making this the first true
                                                        generator on the Internet.
                                                    </CardContent>
                                                </Card>
                                            </Col>
                                        </Row>
                                    </Col>
                                </Row>
                            </Page>
                            {/* POPUP: Create page */}
                            <Popup
                                visible={showCreatePagePrompt}
                                onClose={() => setShowCreatePagePrompt(false)}
                            >
                                <PopupTitle description="Fill in the fields below">
                                    Create a page
                                </PopupTitle>
                                <PopupContent>
                                    <Form>
                                        <FormItem label="Title">
                                            <Input />
                                        </FormItem>
                                        <FormItem label="Description">
                                            <Textarea />
                                        </FormItem>
                                    </Form>
                                </PopupContent>
                                <PopupFooter>
                                    <Button type="submit" color="primary">
                                        Create page
                                    </Button>
                                </PopupFooter>
                            </Popup>
                        </AppContent>
                    </AppLayout>
                </ComponentWrapper>
            );
        }}
    </Story>
</Canvas>
