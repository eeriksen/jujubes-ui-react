import { useState } from "react";
import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { Splash } from "./Splash";
import { SplashContent } from "./SplashContent";
import { SplashTitle } from "./SplashTitle";
import { Form } from "../../form/Form";
import { FormItem } from "../../form/FormItem";
import { Input } from "../../form/Input";
import { Button } from "../../button/Button";
import { LogoFull } from "../../graphic/Logo";
import { ComponentWrapper, Section, SectionTitle, ContentWrapper } from "../../layout";
import { Text, Paragraph } from "../../typography";
import { Row, Col } from "../../grid";
import { Callout } from "../../notify";
import { Image } from "../../media";

<Meta title="Components/Layout/Splash" component={Splash} />

# Splash

The `<Splash />` is used for login forms and other messages/forms that should take
all the focus of the user. It's typically used for on-boarding pages where the user has
a limited set of choices.

<ArgsTable of={Splash} />

### Basic

<Canvas>
    <Story name="basic">
        {() => {
            const [username, setUsername] = useState(null);
            const [password, setPassword] = useState(null);
            const [busy, setBusy] = useState(false);
            const [error, setError] = useState(false);
            const simulateLogin = () => {
                setBusy(true);
                setTimeout(() => {
                    setBusy(false);
                    setError(!error);
                }, 2000);
            };
            return (
                <Splash>
                    <SplashTitle logo={<LogoFull width="75%" />}>
                        <ContentWrapper mobile="up">
                            <Text block size="h3" weight="light">
                                Use the Splash component to make beautiful sign up and registration
                                forms.
                            </Text>
                        </ContentWrapper>
                    </SplashTitle>
                    <SplashContent>
                        <Row>
                            <Col lg={{ span: 12, offset: 6 }} md={{ span: 18, offset: 3 }}>
                                <Section>
                                    <SectionTitle
                                        title="Sign in"
                                        description="Sign in with your company email and password."
                                    />
                                    <Form>
                                        <Row>
                                            <Col span={24}>
                                                <FormItem>
                                                    <Input
                                                        value={username}
                                                        onChange={setUsername}
                                                        size="big"
                                                        icon="user"
                                                        placeholder="Your email"
                                                    />
                                                </FormItem>
                                            </Col>
                                            <Col span={24}>
                                                <FormItem>
                                                    <Input
                                                        value={password}
                                                        onChange={setPassword}
                                                        size="big"
                                                        icon="lock"
                                                        type="password"
                                                        placeholder="Your password"
                                                        error={error}
                                                    />
                                                </FormItem>
                                            </Col>
                                            {error ? (
                                                <Col span={24}>
                                                    <FormItem>
                                                        <Callout color="error" align="center">
                                                            Wrong username and/or password
                                                        </Callout>
                                                    </FormItem>
                                                </Col>
                                            ) : null}
                                            <Col span={24}>
                                                <FormItem>
                                                    <Button
                                                        type="submit"
                                                        color="primary"
                                                        size="big"
                                                        fill
                                                        onClick={simulateLogin}
                                                        busy={busy}
                                                    >
                                                        Sign in
                                                    </Button>
                                                </FormItem>
                                            </Col>
                                        </Row>
                                    </Form>
                                    <br />
                                    <Text opacity={40}>
                                        By signing in you are hereby agreeing to our{" "}
                                        <a href="/terms">Terms of Service</a> and{" "}
                                        <a href="/privacy-policy">Privacy Policy</a>.
                                    </Text>
                                </Section>
                                <hr />
                                <Button fill labelColor="primary">
                                    <Text color="base" opacity={80}>
                                        Not a user?
                                    </Text>
                                    &nbsp;&nbsp;Sign up here!
                                </Button>
                            </Col>
                        </Row>
                    </SplashContent>
                </Splash>
            );
        }}
    </Story>
</Canvas>

### With background

<Canvas>
    <Story name="with background">
        {() => {
            const [username, setUsername] = useState(null);
            const [password, setPassword] = useState(null);
            const [busy, setBusy] = useState(false);
            const [error, setError] = useState(false);
            const simulateLogin = () => {
                setBusy(true);
                setTimeout(() => {
                    setBusy(false);
                    setError(!error);
                }, 2000);
            };
            return (
                <Splash>
                    <SplashTitle
                        logo={<LogoFull width="75%" />}
                        background={
                            <Image
                                src="https://images.unsplash.com/photo-1603422868789-3c008ba99df9?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=934&q=80"
                                scale="fill"
                            />
                        }
                    >
                        <Text block size="h3" weight="light" backgroundColor="primary">
                            Use the Splash component to make beautiful sign up and registration
                            forms.
                        </Text>
                    </SplashTitle>
                    <SplashContent>
                        <Row>
                            <Col
                                lg={{ span: 12, offset: 6 }}
                                md={{ span: 18, offset: 3 }}
                                sm={{ span: 20, offset: 2 }}
                            >
                                <Section>
                                    <SectionTitle
                                        title="Sign in"
                                        description="Sign in with your company email and password."
                                    />
                                    <Form>
                                        <Row>
                                            <Col span={24}>
                                                <FormItem>
                                                    <Input
                                                        value={username}
                                                        onChange={setUsername}
                                                        size="big"
                                                        icon="user"
                                                        placeholder="Your email"
                                                    />
                                                </FormItem>
                                            </Col>
                                            <Col span={24}>
                                                <FormItem>
                                                    <Input
                                                        value={password}
                                                        onChange={setPassword}
                                                        size="big"
                                                        icon="lock"
                                                        type="password"
                                                        placeholder="Your password"
                                                        error={error}
                                                    />
                                                </FormItem>
                                            </Col>
                                            {error ? (
                                                <Col span={24}>
                                                    <FormItem>
                                                        <Callout color="error" align="center">
                                                            Wrong username and/or password
                                                        </Callout>
                                                    </FormItem>
                                                </Col>
                                            ) : null}
                                            <Col span={24}>
                                                <FormItem>
                                                    <Button
                                                        type="submit"
                                                        color="primary"
                                                        size="big"
                                                        fill
                                                        onClick={simulateLogin}
                                                        busy={busy}
                                                    >
                                                        Sign in
                                                    </Button>
                                                </FormItem>
                                            </Col>
                                        </Row>
                                    </Form>
                                    <br />
                                    <Text opacity={40}>
                                        By signing in you are hereby agreeing to our{" "}
                                        <a href="/terms">Terms of Service</a> and{" "}
                                        <a href="/privacy-policy">Privacy Policy</a>.
                                    </Text>
                                </Section>
                                <hr />
                                <Button fill labelColor="primary">
                                    <Text color="base" opacity={80}>
                                        Not a user?
                                    </Text>
                                    &nbsp;&nbsp;Sign up here!
                                </Button>
                            </Col>
                        </Row>
                    </SplashContent>
                </Splash>
            );
        }}
    </Story>
</Canvas>
