import { useState } from "react";
import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs/blocks";
import { Splash } from "./Splash";
import { SplashContent } from "./SplashContent";
import { SplashTitle } from "./SplashTitle";
import { Form } from "../../form/Form";
import { FormHeader } from "../../form/FormHeader";
import { FormItem } from "../../form/FormItem";
import { Input } from "../../form/Input";
import { Button } from "../../button/Button";
import { Logo } from "../../graphic/Logo";
import { ComponentWrapper } from "../../layout/ComponentWrapper";
import { Text, Paragraph } from "../../typography";
import { Row, Col } from "../../grid";
import { Callout } from "../../notify";

<Meta title="Components/Layout/Splash" component={Splash} />

# Splash

The `<Splash />` is used for login forms and other messages/forms that should take
all the focus of the user. It's typically used for on-boarding pages where the user has
a limited set of choices.

<ArgsTable of={Splash} />

### Basic

<Canvas>
    <Story name="basic">
        {() => {
            const [username, setUsername] = useState(null);
            const [password, setPassword] = useState(null);
            const [busy, setBusy] = useState(false);
            const [error, setError] = useState(false);
            const simulateLogin = () => {
                setBusy(true);
                setTimeout(() => {
                    setBusy(false);
                    setError(!error);
                }, 2000);
            };
            return (
                <Splash>
                    <SplashTitle logo={<Logo width="80px" />}>
                        <h1>Jujubes</h1>
                        <Text block size="xlarge" weight="light" opacity={80}>
                            Use the Splash component to make beautiful sign up/in forms.
                        </Text>
                    </SplashTitle>
                    <SplashContent>
                        <Row>
                            <Col lg={{ span: 12, offset: 6 }} md={{ span: 18, offset: 3 }}>
                                <Form>
                                    <FormHeader
                                        title="Sign in"
                                        description="Sign in with your company email and password."
                                    />
                                    <FormItem>
                                        <Input
                                            value={username}
                                            onChange={setUsername}
                                            size="big"
                                            icon="user"
                                            placeholder="Your email"
                                        />
                                    </FormItem>
                                    <FormItem>
                                        <Input
                                            value={password}
                                            onChange={setPassword}
                                            size="big"
                                            icon="lock"
                                            type="password"
                                            placeholder="Your password"
                                            error={error}
                                        />
                                    </FormItem>
                                    {error ? (
                                        <FormItem>
                                            <Callout color="error" align="center">
                                                Wrong username and/or password
                                            </Callout>
                                        </FormItem>
                                    ) : null}
                                    <FormItem>
                                        <Button
                                            type="submit"
                                            color="primary"
                                            size="big"
                                            fill
                                            onClick={simulateLogin}
                                            busy={busy}
                                        >
                                            Sign in
                                        </Button>
                                    </FormItem>
                                </Form>
                                <br />
                                <Text opacity={40}>
                                    By signing in you are hereby agreeing to our{" "}
                                    <a href="/terms">Terms of Service</a> and{" "}
                                    <a href="/privacy-policy">Privacy Policy</a>.
                                </Text>
                            </Col>
                        </Row>
                    </SplashContent>
                </Splash>
            );
        }}
    </Story>
</Canvas>
