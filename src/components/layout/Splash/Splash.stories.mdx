import { useState } from "react";
import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs/blocks";
import { Splash } from "./Splash";
import { SplashContent } from "./SplashContent";
import { SplashTitle } from "./SplashTitle";
import { Form } from "../../form/Form";
import { FormItem } from "../../form/FormItem";
import { Input } from "../../form/Input";
import { Button } from "../../button/Button";
import { Logo } from "../../graphic/Logo";
import { ComponentWrapper } from "../../layout/ComponentWrapper";
import { Text } from "../../typography";
import { Row, Col } from "../../grid";
import { Callout } from "../../notify";

<Meta title="Components/Layout/Splash" component={Splash} />

# Splash

The `<Splash />` is used for login forms and other messages/forms that should take
all the focus of the user. It's typically used for on-boarding pages where the user has
a limited set of choices.

<ArgsTable of={Splash} />

### Basic

<Canvas>
    <Story name="basic">
        {() => {
            const [username, setUsername] = useState(null);
            const [password, setPassword] = useState(null);
            const [busy, setBusy] = useState(false);
            const [error, setError] = useState(false);
            const simulateLogin = () => {
                setBusy(true);
                setTimeout(() => {
                    setBusy(false);
                    setError(!error);
                }, 2000);
            };
            return (
                <ComponentWrapper>
                    <Splash
                        logo={<Logo width={180} />}
                        footer={`Kembo UI Â© ${new Date().getFullYear()}`}
                    >
                        <SplashTitle title="Sign in">
                            <Row>
                                <Col span={18}>
                                    <Text size="medium" color="base60">
                                        Sign in with your company email and password.
                                    </Text>
                                </Col>
                            </Row>
                        </SplashTitle>
                        <SplashContent>
                            <Form>
                                <FormItem>
                                    <Input
                                        value={username}
                                        onChange={setUsername}
                                        big
                                        icon="user"
                                        placeholder="Your email"
                                    />
                                </FormItem>
                                <FormItem>
                                    <Input
                                        value={password}
                                        onChange={setPassword}
                                        big
                                        icon="lock"
                                        type="password"
                                        placeholder="Your password"
                                        error={error}
                                    />
                                </FormItem>
                                {error ? (
                                    <FormItem>
                                        <Callout color="error" align="center">
                                            Wrong username and/or password
                                        </Callout>
                                    </FormItem>
                                ) : null}
                                <FormItem>
                                    <Button
                                        type="submit"
                                        color="primary"
                                        size="big"
                                        fill
                                        onClick={simulateLogin}
                                        busy={busy}
                                    >
                                        Sign in
                                    </Button>
                                </FormItem>
                            </Form>
                        </SplashContent>
                    </Splash>
                </ComponentWrapper>
            );
        }}
    </Story>
</Canvas>
